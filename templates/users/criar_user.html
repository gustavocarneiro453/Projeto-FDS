{% extends "base.html" %}
{% block title %}Registrar Usuário Comum{% endblock %}

{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'users.css' %}">
{% endblock css %}

{% block content %}
    <h2>Registrar Usuário Comum</h2>
    <form method="post" action="{{ form_action }}">
        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
        <input type="hidden" name="user_type" value="{{ user_type }}">
        
        {% if errors %}
            <ul class="error-list">
            {% for field, error in errors.items %}
                <li>{{ error }}</li>
            {% endfor %}
            </ul>
        {% endif %}

        <!-- Campos do formulário manualmente -->
        <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" class="form-control" value="{{ nome_value }}">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ email_value }}">
        </div>
        <div class="form-group">
            <label for="password1">Senha:</label>
            <input type="password" id="password1" name="password1" class="form-control">
        </div>
        <div class="form-group">
            <label for="password2">Confirmar senha:</label>
            <input type="password" id="password2" name="password2" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Registrar</button>
    </form>
    <a href="{% url 'user:login' %}">Já possui uma conta? Faça login aqui.</a>
{% endblock %}
